using std::IO
using std::File

fn main:
    IO.println "--- File I/O with Constants ---"

    IO.println "Opening for Write..."
    set fd: (File.open "test.txt", $File.fmWrite)

    File.write $fd, "This was written using global constants!"
    File.close $fd

    ; 2. Read using the exported constant
    ; $File.fmRead resolves to 0 (O_RDONLY)
    IO.println "Opening for Read..."
    set fd2: (File.open "test.txt", $File.fmRead)

    set content: (File.read $fd2, 100)
    IO.println "Content: " << $content

    File.close $fd2
end
